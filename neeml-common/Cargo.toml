[package]
name = "neeml-common"
version = "0.1.0"
edition.workspace = true
authors.workspace = true
rust-version.workspace = true
license.workspace = true
readme.workspace = true
repository.workspace = true
homepage.workspace = true
categories.workspace = true
keywords.workspace = true

[features]
default = ["providers-imap", "providers-smtp"]

providers-all = ["providers-mail", "providers-news", "providers-storage", "providers-contexts"]

providers-contexts = ["providers-llm", "providers-dav", "providers-contexts-exchange", "providers-contexts-gmail"]
providers-contexts-caldav = []
providers-contexts-carddav = []
providers-contexts-exchange = ["exchange-rs"]
providers-contexts-gmail = ["google-gmail1"]
providers-contexts-ollama = [] 
providers-contexts-openai = []
providers-dav = ["providers-contexts-carddav", "providers-contexts-caldav"]
providers-exchange = ["exchange-rs"]
providers-gmail = ["google-gmail1"]
providers-imap = ["imap"]
providers-jmap = ["jmap-client"]
providers-llm = ["providers-ollama", "providers-openai"]
providers-mail = ["providers-imap", "providers-maildir", "providers-mbox", "providers-nntp", "providers-sendmail", "providers-smtp", "providers-exchange", "providers-jmap", "providers-gmail"]
providers-maildir = ["melib/maildir"]
providers-mbox = ["melib/mbox"]
providers-news = ["providers-nntp", "providers-rss"]
providers-nntp = ["nntprs"]
providers-notmuch = ["melib/notmuch"]
providers-ollama = []
providers-openai = []
providers-rss = []
providers-rsync = []
providers-sendmail = []
providers-smtp = ["lettre"]
providers-sqlite = []
providers-storage = ["providers-sqlite", "providers-notmuch", "providers-rsync"]

[dependencies]
anyhow.workspace = true
thiserror.workspace = true
tokio.workspace = true

imap = { version = "2.4.1", optional = true }
google-gmail1 = { version = "5.0.4", optional = true }
jmap-client = { version = "0.3.2", optional = true }
exchange-rs = { git = "https://github.com/neeml/exchange-rs", branch = "main", optional = true }
nntprs = { git = "https://github.com/neeml/nntprs", branch = "main", optional = true }
lettre = { version = "0.11.7", optional = true }
melib = { version = "0.8.4", optional = true }
